<%- include('includes/_head') %>
  <div class="container">
    <!-- <div class="formgroup">
    <input type="text" name="search" id="search" class="text-search">
    <button type="button" class="btn-search">Search</button>
    <div class="search-results"></div>
  </div> -->
    <div class="th-month d-flex justify-content-between align-items-center">
      <a href="/admin/<%= data.prevMonth %>" class="th-btn-month th-btn-prev btn btn-sm"><i
          class="fas fa-arrow-left"></i>
        <%= data.months[data.prevMonth] %>
      </a>
      <h1>
        <%= data.months[data.currMonth] %>
      </h1>
      <a href="/admin/<%= data.nextMonth %>" class="th-btn-month th-btn-next btn btn-sm">
        <%= data.months[data.nextMonth] %> <i class="fas fa-arrow-right"></i>
      </a>
    </div>


    <table class="table table-sm align-middle">
      <thead>
        <tr>
          <th width="7%" class="text-center">Date</th>
          <th width="49%">Holiday</th>
          <th width="34%" class="col-tags">Tags</th>
          <th width="10%" class="th-holiday-nav"><a href="#" class="th-nav-holidays" id="btn-prevHolidayGroup"
              title="Load previous holidays"><i class="fas fa-arrow-left"></i></a><a href="#" class="th-nav-holidays"
              id="btn-nextHolidayGroup" title="Load next holidays"><i class="fas fa-arrow-right"></i>
          </th>
        </tr>
      </thead>
      <tbody id="tbody-holidays">
        <% data.results.forEach(result=> { %>
          <tr id="<%= result._id %>" class="hide">
            <td class="text-center">
              <%= result.month %>/<%= result.day %>
            </td>
            <td>
              <span contenteditable="true" class="th-txtName">
                <%= result.name %>
              </span>
            </td>
            <td class="col-tags">
              <% let tag=result.tags[0] ? result.tags[0].name : '' %>
                <input list="th-tag-options" class="th-tag form-control" name="th-tag" placeholder="Type to add..."
                  value="<%= tag %>">
            </td>
            <td class="text-center"><button class="th-btnDelete" title="Delete This Holiday"
                data-id="<%= result._id %>"><i class="fas fa-times"></i></button></td>
          </tr>
          <% }); %>
      </tbody>
    </table>
    <div class="th-nav-holiday-btm-container d-flex justify-content-between">
      <a href="#" class="th-nav-holidays-btm" id="btn-prevHolidayGroup2" title="Load previous holidays">&laquo; Previous
        Holidays</a>
      <span class="th-total">
        <%= data.results.length %> Total Holidays
      </span>
      <a href="#" class="th-nav-holidays-btm" id="btn-nextHolidayGroup2" title="Load next holidays">Next Holidays
        &raquo;</a>
    </div>
    <datalist id="th-tag-options">
      <% data.tags.forEach(tag=> { %>
        <option value="<%= tag.name %>">
          <%= tag.name %>
        </option>
        <% }) %>
    </datalist>

  </div>


  <script src="/js/admin.js"></script>
  <%- include('includes/_foot') %>